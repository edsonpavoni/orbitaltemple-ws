---
import BaseLayout from "../layouts/BaseLayout.astro";
import RotatingCountdown, { RotatingNotifyLink } from "../components/RotatingCountdown";
---

<BaseLayout title="Orbital Temple - Launching November 28, 2025">

  <!-- Full Screen Countdown Section -->
  <section style="position: relative; min-height: 100vh; display: flex; flex-direction: column; padding: 1.5rem;">

    <!-- Satellite Background Video -->
    <div style="position: absolute; inset: 0; z-index: 0;">
      <!-- Mobile Video -->
      <video
        autoplay
        loop
        muted
        playsinline
        poster="/videos/mobile_placeholder.webp"
        style="width: 100%; height: 100%; object-fit: cover; opacity: 0.6; display: block;"
        class="mobile-video">
        <source src="/videos/mobile.webm" type="video/webm" />
        <source src="/videos/mobile_h264.mp4" type="video/mp4" />
      </video>

      <!-- Desktop Video -->
      <video
        autoplay
        loop
        muted
        playsinline
        poster="/videos/desk_placeholder.webp"
        style="width: 100%; height: 100%; object-fit: cover; opacity: 0.6; display: none;"
        class="desktop-video">
        <source src="/videos/desk_h264.webm" type="video/webm" />
        <source src="/videos/desk_h264.mp4" type="video/mp4" />
      </video>
    </div>

    <!-- Top spacer -->
    <div style="flex: 1; position: relative; z-index: 1;"></div>

    <!-- Content Container (vertically centered) -->
    <div style="position: relative; z-index: 1; text-align: center; max-width: 800px; width: 100%; margin: 0 auto;">
      <RotatingCountdown client:only="react" />
    </div>

    <!-- Bottom spacer and notify link -->
    <div style="flex: 1; position: relative; z-index: 1; display: flex; align-items: flex-end; justify-content: center; padding-bottom: 2rem;">
      <RotatingNotifyLink client:only="react" />
    </div>

  </section>

  <!-- Styles -->
  <style is:global>
    /* Hide header on countdown page */
    body header {
      display: none !important;
      visibility: hidden !important;
      opacity: 0 !important;
      pointer-events: none !important;
    }

    /* Countdown sizing - smaller on mobile */
    .countdown-timer {
      gap: 1rem !important;
    }

    .time-unit {
      min-width: 60px !important;
    }

    .time-value {
      font-size: 32px !important;
    }

    .time-label {
      font-size: 12px !important;
    }

    /* Larger countdown on desktop */
    @media (min-width: 768px) {
      .mobile-video {
        display: none !important;
      }
      .desktop-video {
        display: block !important;
      }

      .countdown-timer {
        gap: 2rem !important;
      }

      .time-unit {
        min-width: 80px !important;
      }

      .time-value {
        font-size: 48px !important;
      }

      .time-label {
        font-size: 14px !important;
      }
    }

    /* Notify link hover effect */
    .notify-link:hover,
    .notify-link-rotating:hover {
      color: var(--color-ot-gold200) !important;
      text-decoration: underline !important;
      opacity: 1 !important;
    }
  </style>

</BaseLayout>
